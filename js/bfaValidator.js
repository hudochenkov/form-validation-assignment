!function(e,r){"object"==typeof module&&module.exports?module.exports=r:e.bfaValidator=r}(this,function(e,r){function n(e){"undefined"!=typeof e.noValidate&&(e.noValidate=!0),e.addEventListener("submit",function(r){r.preventDefault();var n=document.querySelector(".form-indicator");t(e)?n.innerHTML="✔︎ Valid: "+Date.now():(r.preventDefault(),n.innerHTML="✘ Invalid: "+Date.now())}),e.addEventListener("change",function(){u(e)&&t(e)})}function t(e){i(e);var r=!0;return Array.prototype.slice.call(e.elements).forEach(function(e){a(e)||(r=!1)}),r}function a(e){var r=e.nodeName;if("INPUT"!==r&&"TEXTAREA"!==r&&"SELECT"!==r)return!0;if("INPUT"===r){var n=e.type;if(n&&("submit"===n||"button"===n||"image"===n||"hidden"===n))return!0}if(e.disabled||e.readOnly)return!0;var t=!0;for(var a in d.rules)if(d.rules.hasOwnProperty(a)&&!d.rules[a](e)){t=!1,o(e,d.messages[a]);break}return t}function o(e,r){e.insertAdjacentHTML("beforebegin",'<span class="'+d.messageClassName+'">'+r+"</span>")}function i(e){Array.prototype.slice.call(e.querySelectorAll("."+d.messageClassName)).forEach(function(e){e.parentNode.removeChild(e)})}function u(e){return Boolean(e.querySelectorAll("."+d.messageClassName).length)}function l(e,r){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),t=1;t<arguments.length;t++){var a=arguments[t];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n}if("undefined"!=typeof e){if(!e||!e.nodeName||"FORM"!==e.nodeName)throw new Error("bfaValidator: only forms could be validated");n(e)}var s={required:function(e){if(e.required){if("checkbox"===e.type&&!e.checked)return!1;if("radio"===e.type&&!e.form.querySelector('input[name="'+e.name+'"]:checked'))return!1;if(null!==e.value&&""===e.value.trim())return!1}return!0},maxlength:function(e){var r=Number(e.getAttribute("maxlength"));return!(r>0&&e.value.trim().length>r)},minlength:function(e){var r=Number(e.getAttribute("minlength"));return!(r>=0&&e.value.trim().length<r)}},f={required:"This is a required field.",maxlength:"Too long.",minlength:"Too short."},c={rules:s,messages:f,messageClassName:"bfa-error-message"};r=r||{};var d=l({},c,r);return r.rules&&(d.rules=l({},s,r.rules)),r.messages&&(d.messages=l({},f,r.messages)),{}});